# ๐ ุงููุธุงู ุงูุชููุงุฆู ููุตูุงุญูุงุช - Ajza App

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู **ุชููุงุฆู** ูุฅุถุงูุฉ ุงูุตูุงุญูุงุช ูููุณุชุฎุฏููู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู. ูุฐุง ุงููุธุงู ูุญู ูุดููุฉ ุชุณุฌูู ุงูุฏุฎูู ูููุณุชุฎุฏููู ุงูุฐูู ูุง ูููููู ุตูุงุญูุงุช.

## ๐ฏ **ููููุฉ ุงูุนูู:**

### **1. ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู:**
- ุงููุธุงู ูุชุญูู ูู ูุฌูุฏ ุตูุงุญูุงุช ูููุณุชุฎุฏู
- ุฅุฐุง ูู ุชูุฌุฏ ุตูุงุญูุงุชุ ูุชู ุฅุถุงูุชูุง ุชููุงุฆูุงู ุญุณุจ ุงูุฑูู
- **Client ูุง ูุญุตู ุนูู ุตูุงุญูุงุช** (ููุท ุนุฑุถ ุงูููุชุฌุงุช)
- **ุฌููุน ุงูุฑููุฒ ุงูุฃุฎุฑู** ุชุญุตู ุนูู ุตูุงุญูุงุช ูุงููุฉ

### **2. ุงูุตูุงุญูุงุช ุงููุถุงูุฉ ุชููุงุฆูุงู:**

#### **Admin (ูุฏูุฑ ุงููุธุงู):**
- ุฌููุน ุตูุงุญูุงุช ุงููุฏูุฑ
- ุฌููุน ุตูุงุญูุงุช ุงูููุฑุฏ
- **ุงููุฌููุน: 45 ุตูุงุญูุฉ**

#### **Supplier (ุงูููุฑุฏ):**
- `show-all-permissions` - ุนุฑุถ ุฌููุน ุงูุตูุงุญูุงุช
- `view-orders` - ุนุฑุถ ุงูุทูุจุงุช
- `accept-orders` - ูุจูู ุงูุทูุจุงุช
- `view-offers` - ุนุฑุถ ุงูุนุฑูุถ
- `control-offer` - ุงูุชุญูู ูู ุงูุนุฑุถ
- `view-users` - ุนุฑุถ ุงููุณุชุฎุฏููู
- `edit-users` - ุชุนุฏูู ุงููุณุชุฎุฏููู
- `view-stores` - ุนุฑุถ ุงููุชุงุฌุฑ
- `edit-stores` - ุชุนุฏูู ุงููุชุงุฌุฑ
- `view-categories` - ุนุฑุถ ุงููุฆุงุช
- `edit-categories` - ุชุนุฏูู ุงููุฆุงุช
- `view-products` - ุนุฑุถ ุงูููุชุฌุงุช
- `edit-products` - ุชุนุฏูู ุงูููุชุฌุงุช
- `view-orders-statistics` - ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช
- **ุงููุฌููุน: 14 ุตูุงุญูุฉ**

#### **Workshop (ุงููุฑุดุฉ):**
- `view-orders` - ุนุฑุถ ุงูุทูุจุงุช
- `accept-orders` - ูุจูู ุงูุทูุจุงุช
- `view-offers` - ุนุฑุถ ุงูุนุฑูุถ
- `view-stores` - ุนุฑุถ ุงููุชุงุฌุฑ
- `view-products` - ุนุฑุถ ุงูููุชุฌุงุช
- `view-categories` - ุนุฑุถ ุงููุฆุงุช
- **ุงููุฌููุน: 6 ุตูุงุญูุงุช**

#### **Representative (ุงูููุซู):**
- `view-orders` - ุนุฑุถ ุงูุทูุจุงุช
- `accept-orders` - ูุจูู ุงูุทูุจุงุช
- `view-offers` - ุนุฑุถ ุงูุนุฑูุถ
- `view-stores` - ุนุฑุถ ุงููุชุงุฌุฑ
- `view-products` - ุนุฑุถ ุงูููุชุฌุงุช
- `view-categories` - ุนุฑุถ ุงููุฆุงุช
- **ุงููุฌููุน: 6 ุตูุงุญูุงุช**

#### **Client (ุงูุนููู):**
- **ูุง ุชูุฌุฏ ุตูุงุญูุงุช** (ููุท ุนุฑุถ ุงูููุชุฌุงุช ูุงูุทูุจุงุช)

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู:**

### **1. ุชุดุบูู ุงููุธุงู ุงูุชููุงุฆู:**
```bash
# ุฅุถุงูุฉ ุตูุงุญูุงุช ูุฌููุน ุงููุณุชุฎุฏููู ุงูุญุงูููู
php artisan permissions:auto-assign-all

# ุฅุนุงุฏุฉ ุชุนููู ุงูุตูุงุญูุงุช (ุญุชู ูู ูุงูุช ููุฌูุฏุฉ)
php artisan permissions:auto-assign-all --force
```

### **2. ูุญุต ุญุงูุฉ ุงููุณุชุฎุฏู:**
```bash
# ูุญุต ุตูุงุญูุงุช ูุณุชุฎุฏู ูุนูู
php artisan user:check-permissions +966550506713
```

### **3. ุฅุถุงูุฉ ุฑูู ููุณุชุฎุฏู ุฌุฏูุฏ:**
```bash
# ุฅุถุงูุฉ ุฑูู Supplier
php artisan user:assign-role +966550506713 Supplier

# ุนูุฏ ุชุณุฌูู ุงูุฏุฎููุ ุณูุญุตู ุชููุงุฆูุงู ุนูู 14 ุตูุงุญูุฉ
```

## ๐ง **ุงูููููุงุช ุงูุฌุฏูุฏุฉ:**

### **1. Middleware ุชููุงุฆู:**
- `AutoAssignPermissions` - ูุถูู ุงูุตูุงุญูุงุช ุชููุงุฆูุงู
- ูููู ุงุณุชุฎุฏุงูู ูู ุฃู route

### **2. Login Service ูุญุฏุซ:**
- ูุถูู ุงูุตูุงุญูุงุช ุชููุงุฆูุงู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
- ูุง ูุญุชุงุฌ ุชุฏุฎู ูุฏูู

### **3. Artisan Command:**
- `permissions:auto-assign-all` - ูุฅุถุงูุฉ ุตูุงุญูุงุช ูุฌููุน ุงููุณุชุฎุฏููู

## ๐ฑ **ุงุณุชุฎุฏุงู Middleware:**

### **ูู Routes:**
```php
// ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ุชููุงุฆูุงู
Route::middleware(['auth:sanctum', 'auto.permissions'])->group(function () {
    // Routes here
});

// ุฃู ูู ูุฌููุนุฉ routes
Route::middleware(['auth:sanctum', 'auto.permissions'])->prefix('supplier')->group(function () {
    // Supplier routes
});
```

### **ูู Controller:**
```php
public function __construct()
{
    $this->middleware('auto.permissions');
}
```

## โ **ูููุฒุงุช ุงููุธุงู:**

1. **ุชููุงุฆู ุจุงููุงูู** - ูุง ูุญุชุงุฌ ุชุฏุฎู ูุฏูู
2. **ุขูู** - ูุง ูุถูู ุตูุงุญูุงุช ูููุณุชุฎุฏููู ุงูุฐูู ูุฏููู ุตูุงุญูุงุช
3. **ูุฑู** - ูููู ุชูุนููู/ุฅูุบุงุคู ุจุณูููุฉ
4. **ุณุฑูุน** - ูุนูู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
5. **ุขูู** - Client ูุง ูุญุตู ุนูู ุตูุงุญูุงุช ุฅุถุงููุฉ

## ๐ฏ **ุฎุทูุงุช ุงูุชูุนูู:**

### **ุงูุฎุทูุฉ 1: ุชุดุบูู ุงููุธุงู ุงูุชููุงุฆู:**
```bash
php artisan permissions:auto-assign-all
```

### **ุงูุฎุทูุฉ 2: ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู:**
- ุฌุฑุจ ุชุณุฌูู ุฏุฎูู ูุณุชุฎุฏู Supplier
- ุชุฃูุฏ ูู ุญุตููู ุนูู ุงูุตูุงุญูุงุช

### **ุงูุฎุทูุฉ 3: ูุญุต ุงูุตูุงุญูุงุช:**
```bash
php artisan user:check-permissions +966550506713
```

## ๐ **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:**

### **ุฅุฐุง ูู ุชุนูู ุงูุตูุงุญูุงุช ุงูุชููุงุฆูุฉ:**
1. ุชุฃูุฏ ูู ุชุดุบูู `php artisan config:clear`
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ุณุฌูุงุช ุงูุฃุฎุทุงุก

### **ุฅุฐุง ูู ูุนูู ุชุณุฌูู ุงูุฏุฎูู:**
1. ุงุณุชุฎุฏู `php artisan user:check-permissions {mobile}`
2. ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ููุนู
3. ุชุฃูุฏ ูู ูุฌูุฏ ุฑูู ูุฎุตุต

## ๐ **ููุงุญุธุงุช ูููุฉ:**

1. **ุงููุธุงู ูุนูู ุชููุงุฆูุงู** ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
2. **Client ูุง ูุญุตู ุนูู ุตูุงุญูุงุช** ุฅุถุงููุฉ
3. **ูููู ุฅูุบุงุก ุงููุธุงู** ุจุณูููุฉ ุนูุฏ ุงูุญุงุฌุฉ
4. **ุงูุตูุงุญูุงุช ุชูุถุงู ูุฑุฉ ูุงุญุฏุฉ ููุท** ููู ูุณุชุฎุฏู
5. **ุงููุธุงู ุขูู** ููุง ูุถูู ุตูุงุญูุงุช ููุฑุฑุฉ

## ๐ **ุงููุชูุฌุฉ:**

- **ุฌููุน ุงููุณุชุฎุฏููู ุบูุฑ Client** ุณูุญุตููู ุนูู ุตูุงุญูุงุช ุชููุงุฆูุงู
- **ูุดููุฉ ุชุณุฌูู ุงูุฏุฎูู** ุณุชุญู ุชููุงุฆูุงู
- **ูุง ุญุงุฌุฉ** ูุฅุถุงูุฉ ุตูุงุญูุงุช ูุฏููุงู
- **ุงููุธุงู ูุนูู** ูู ุงูุฎูููุฉ

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

1. **ุชุดุบูู ุงููุธุงู ุงูุชููุงุฆู:**
   ```bash
   php artisan permissions:auto-assign-all
   ```

2. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู**

3. **ุฅุฒุงูุฉ ุงููุธุงู** ุนูุฏ ุนุฏู ุงูุญุงุฌุฉ ุฅููู

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐ฏ
